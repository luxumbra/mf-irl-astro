---
import { Image } from "@astrojs/image/components";
// import { Icon } from "astro-icon";

const host = 'http://localhost:1144';

const data = await fetch(`${host}/api/sponsors`).then((res) => res.json());

const { sponsorList: sponsors } = data;

console.log({sponsors});

---

<section id="sponsors" class="section ">
  <div class="section__content">
    <h2>Partners &amp; Sponsors</h2>
    <p>
      MetaFest will be organized in collaboration between MetaFam, MetaCartel & MetaAlliance as well as other local &
      global partner organizations
    </p>
    <p class="mb-6 text-2xl text-center max-w-2xl mx-auto">Most importantly, we want you to co-create it with us&hellip;</p>
    <p class="mb-10 text-2xl text-center max-w-2xl mx-auto">MetaFest is a celebration of the future weâ€™re building, together&hellip;</p>

    <div class="partners-list bg-gradient-to-r from-secondary-alt via-secondary-alt to-transparent p-8 border-b-2 border-l-2 border-accent rounded-2xl">
      <ul class="grid grid-cols-5 gap-10">
        {
          sponsors && sponsors.map((sponsor) => (
            <li class="flex group items-center justify-center rounded-2xl bg-gradient-to-br from-secondary via-secondary to-transparent text-center aspect-video hover:scale-105 transition-all duration-300 ease-in-out overflow-hidden">
              <a href={sponsor.url} target="_blank" rel="noopener noreferrer" class="h-full w-full text-center p-5">
                <Image src={`../../assets/images/sponsors/${sponsor.logo}`} alt={sponsor.name} class="w-auto h-full object-contain mx-auto group-hover:opacity-60 transition-opacity" height={150} aspectRatio="1:1"  />
                <div class="origin-bottom h-full w-full text-white translate-y-10 opacity-0 group-hover:-translate-y-1/2 group-hover:opacity-100 transition-all">{sponsor.name}</div>
              </a>
            </li>
          ))
        }
WS      </ul>
    </div>
  </div>
</section>
